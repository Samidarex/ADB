(this["webpackJsonpreact-testing-library-course"]=this["webpackJsonpreact-testing-library-course"]||[]).push([[0],{27:function(e,n,t){},35:function(e,n,t){"use strict";t.r(n);var r=t(1),o=t(19),c=t.n(o),i=(t(27),t(8)),a=t(17),s=t(13),l=t(6),d=t(3),j=t(15),u=t.n(j),h=t(20),b=["data","token","headers"];function f(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.data,r=n.token,o=n.headers,c=Object(s.a)(n,b),a=Object(i.a)({method:t?"POST":"GET",body:t?JSON.stringify(t):void 0,headers:Object(i.a)({Authorization:r?"Bearer ".concat(r):void 0,"Content-Type":t?"application/json":void 0},o)},c);return window.fetch("/".concat(e),a).then(function(){var e=Object(h.a)(u.a.mark((function e(n){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(t=e.sent,!n.ok){e.next=7;break}return e.abrupt("return",t);case 7:return e.abrupt("return",Promise.reject(t));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}var O=t(0),x=["initialValues"],m=r.createContext();function v(e){var n=e.initialValues,t=void 0===n?{}:n,o=Object(s.a)(e,x),c=r.useState(t),l=Object(a.a)(c,1)[0],d=r.useReducer((function(e,n){return Object(i.a)(Object(i.a)({},e),n)}),l),j=Object(a.a)(d,2),u=j[0],h=j[1];return Object(O.jsx)(m.Provider,Object(i.a)({value:{form:u,setFormValues:h,resetForm:function(){return h(t)}}},o))}function p(){var e=r.useContext(m);if(!e)throw new C("useMultiPageForm must be used within a MiltiPageFormProvider");return e}function g(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Welcome home"}),Object(O.jsx)(l.b,{to:"/page-1",children:"Fill out the form"})]})}function w(e){var n=e.history,t=p(),r=t.form,o=t.setFormValues;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{children:"Page 1"}),Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n.push("/page-2")},children:[Object(O.jsx)("label",{htmlFor:"food",children:"Favorite Food"}),Object(O.jsx)("input",{id:"food",value:r.food,onChange:function(e){return o({food:e.target.value})}})]}),Object(O.jsx)(l.b,{to:"/",children:"Go Home"})," | ",Object(O.jsx)(l.b,{to:"/page-2",children:"Next"})]})}function k(e){var n=e.history,t=p(),r=t.form,o=t.setFormValues;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{children:"Page 2"}),Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n.push("/confirm")},children:[Object(O.jsx)("label",{htmlFor:"drink",children:"Favorite Drink"}),Object(O.jsx)("input",{id:"drink",value:r.drink,onChange:function(e){return o({drink:e.target.value})}})]}),Object(O.jsx)(l.b,{to:"/page-1",children:"Go Back"})," | ",Object(O.jsx)(l.b,{to:"/confirm",children:"Review"})]})}function F(e){var n=e.history,t=p(),r=t.form,o=t.resetForm;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{children:"Confirm"}),Object(O.jsx)("div",{children:Object(O.jsx)("strong",{children:"Please confirm your choices"})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("strong",{id:"food-label",children:"Favorite Food"}),":"," ",Object(O.jsx)("span",{"aria-labelledby":"food-label",children:r.food})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("strong",{id:"drink-label",children:"Favorite Drink"}),":"," ",Object(O.jsx)("span",{"aria-labelledby":"drink-label",children:r.drink})]}),Object(O.jsx)(l.b,{to:"/page-2",children:"Go Back"})," |"," ",Object(O.jsx)("button",{onClick:function(){var e;(e=r,f("form",{data:e})).then((function(){o(),n.push("/success")}),(function(e){n.push("/error",{state:{error:e}})}))},children:"Confirm"})]})}function y(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{children:"Congrats. You did it."}),Object(O.jsx)("div",{children:Object(O.jsx)(l.b,{to:"/",children:"Go home"})})]})}function C(e){var n=e.location.state.error;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:"Oh no. There was an error."}),Object(O.jsx)("pre",{children:n.message}),Object(O.jsx)(l.b,{to:"/",children:"Go Home"}),Object(O.jsx)(l.b,{to:"/confirm",children:"Try again"})]})}var P=function(){return Object(O.jsx)(v,{initialValues:{food:"",drink:""},children:Object(O.jsx)(l.a,{children:Object(O.jsxs)(d.c,{children:[Object(O.jsx)(d.a,{path:"/page-1",component:w}),Object(O.jsx)(d.a,{path:"/page-2",component:k}),Object(O.jsx)(d.a,{path:"/confirm",component:F}),Object(O.jsx)(d.a,{path:"/success",component:y}),Object(O.jsx)(d.a,{path:"/error",component:C}),Object(O.jsx)(d.a,{component:g})]})})})},G=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function V(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(Object(O.jsx)(P,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");G?function(e){fetch(e).then((function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):V(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):V(e)}))}}()}},[[35,1,2]]]);
//# sourceMappingURL=main.90f5b142.chunk.js.map